---
sidebar_position: 2
sidebar_label: Running a Full Node
hide_title: false
id: running-a-full-node
title: Running a Full Node
---

# Hosting a Node

This document outlines the process for running a full ZetaChain node. It is
intended for those who are familiar with the Linux operating system and the
command line interface. Note that information is for Athens-2, while more
details will be released for Athens-3.

Please refer to [Technical Requirements](/validators/technical-requirements.mdx) for more
details on the technical requirements for running a ZetaChain node.

## Getting Started

### Set Limits on Open Files and Number of Processes

To better manage the resources of your nodes, we recommend setting some limits
on the maximum number of open file descriptors (nofile) and maximum number of
processes (nproc).

Edit `/etc/security/limits.conf` to include or modify the following parameters:

```jsx
*       soft    nproc   262144
*       hard    nproc   262144
*       soft    nofile  262144
*       hard    nofile  262144
```

Edit `/etc/sysctl.conf` to include the following:

```jsx
fs.file-max=262144
```

### Create _zetachain_ User Account

We recommend running ZetaChain binary files with a user account rather than as
root.

```bash
useradd -m -s /bin/bash zetachain
```

### Use Data disk to Store ZetaChain Files

If using a separate Data disk, we recommend mounting the Data disk (see
[Technical Requirements](/validators/technical-requirements.mdx)) on the home directory
`/home/zetachain`.

```jsx
# df -h /home/zetachain
Filesystem      Size  Used Avail Use% Mounted on
/dev/nvme1n1    200G   75G  126G  38% /home/zetachain
```

### Using Cosmovisor

This is not a requirement, but Cosmovisor can be helpful in managing the upgrade
process. Please refer to their documentation to learn how to install and
configure Cosmovisor to be used with ZetaChain.

[Cosmovisor | Cosmos SDK](https://docs.cosmos.network/main/tooling/cosmovisor)

### Create ZetaChain Directory Structure

This is needed to store ZetaChain binary and configuration files.

```bash
sudo su zetachain
mkdir -p /home/zetachain/.zetacored/bin
mkdir /home/zetachain/.zetacored/config
mkdir /home/zetachain/.tss
```

### Download and Install ZetaChain Binary Files

ZetaChain core binary file can be downloaded from the following URL.

Please see the [incentivized
testnet](https://blog.zetachain.com/zetachain-incentivized-testnet-for-validators-33465489a714)
for details on the release of these links or contact the team in the
[Discord](https://discord.gg/zetachain) for more information.

- `blockchain_name` is current blockchain name (example for Testnet is currently
  `athens2`)

Install it as follows:

```jsx
/home/zetachain/.zetacored/bin/zetacored
```

Create a symbolic link from `/usr/local/bin` pointing to it:

```jsx
# ls -l /usr/local/bin/zetacored
lrwxrwxrwx 1 root root 59 Nov 16 16:11 /usr/local/bin/zetacored -> /home/zetachain/.zetacored/bin/zetacored
```

## General Settings

### Install ZetaChain Configuration Files

ZetaChain configuration files can be downloaded from the following URL.

Please see the [incentivized
testnet](https://blog.zetachain.com/zetachain-incentivized-testnet-for-validators-33465489a714)
for details on the release of these links or contact the team in the
[Discord](https://discord.gg/zetachain) for more information.

- `blockchain_name` is current blockchain name (example for Testnet is currently
  `athens2`)

Install it as follows:

```jsx
/home/zetachain/.zetacored/config/app.toml
/home/zetachain/.zetacored/config/client.toml
/home/zetachain/.zetacored/config/config.toml
```

### Install Genesis File

ZetaChain genesis file can be downloaded from the following AWS S3 URL.

Please see the [incentivized
testnet](https://blog.zetachain.com/zetachain-incentivized-testnet-for-validators-33465489a714)
for details on the release of these links or contact the team in the
[Discord](https://discord.gg/zetachain) for more information.

- `blockchain_name` is current blockchain name (example for Testnet is currently
  `athens2`)

Install it as follows:

```jsx
/home/zetachain/.zetacored/config/genesis.json
```

### Create a Systemd Unit File

We recommend using Systemd to start and stop ZetaChain binary files and view the
logs

```jsx
# systemctl start zetacored
# journalctl -o cat -f -u zetacored
```

## CLI

ZetaChain Core is built with the Cosmos SDK. There is an `—help` flag that can
be used with any subcommand to learn its use and syntax.

```bash
zetacored --help
```

### Start ZetaChain Core

The following example shows how to connect a ZetaChain node to Testnet
(Athens2).

Edit the following variables in `/home/zetachain/.zetacored/config/config.toml`

```jsx
moniker = “mynode”
seeds = "a417c375685afb97b7210d4c101c835521572731@35.170.251.63:26656"
pprof_laddr = "localhost:6060”
laddr = "tcp://0.0.0.0:26657”
proxy_app = "tcp://0.0.0.0:26658”
```

To use our state sync nodes to sync up with the ZetaChain blockchain, run the
following command on your local machine:

```bash
curl -s http://44.212.168.142:26657/block | jq -r '.result.block.header.height + "\n" + .result.block_id.hash'

# Example Output
393427
EA446B13ADF6A17CB63723D126BCF88BB3EAEA643E2633896B9DCEAEF9F7C9F8w
```

Use the return values to edit the following variables in `c`:

```bash
[statesync]
# State sync rapidly bootstraps a new node by discovering, fetching, and restoring a state machine
# snapshot from peers instead of fetching and replaying historical blocks. Requires some peers in
# the network to take and serve state machine snapshots. State sync is not attempted if the node
# has any local state (LastBlockHeight > 0). The node will have a truncated block history,
# starting from the height of the snapshot.
enable = true

# RPC servers (comma-separated) for light client verification of the synced state machine and
# retrieval of state data for node bootstrapping. Also needs a trusted height and corresponding
# header hash obtained from a trusted source, and a period during which validators can be trusted.
#
# For Cosmos SDK-based chains, trust_period should usually be about 2/3 of the unbonding time (~2
# weeks) during which they can be financially punished (slashed) for misbehavior.
rpc_servers = "35.170.251.63:26657,44.212.168.142:26657"
trust_height = 393427
trust_hash = "EA446B13ADF6A17CB63723D126BCF88BB3EAEA643E2633896B9DCEAEF9F7C9F8"
```

Start the ZetaChain node:

```bash
zetacored start
```

## Monitoring

In a production environment we recommend monitoring the node resources (CPU
load, Memory Usage, Disk usage and Disk IO) for any performance degradation.

ZetaChain Core generates a log that can be monitored for errors and used for
troubleshooting. If you install Zetacore as a Systemd service using the
instructions above you can view this log with `journalctl -o cat -f -u zetacored`.

Prometheus can be enabled to serve metrics which can be consumed by Prometheus
collector(s). Telemetry include Prometheus metrics can be enabled in the
app.toml file. See the [CosmosSDK Telemetry
Documentation](https://docs.cosmos.network/v0.45/core/telemetry.html) for more
information.
